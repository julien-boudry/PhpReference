> CondorcetPHP \ [Election](class_Election.md)
# Method parseVotesSafe()
> [Read it at source](https://github.com/julien-boudry/Condorcet/blob/master/src/ElectionProcess/VotesProcess.php#L568)

```php
public function Election->parseVotesSafe( SplFileInfo|string $input, [ bool $isFile = false, ?Closure $callBack = null ] ): int
```

## Description
Similar to parseVote method. But will ignore invalid lines. This method is also far less greedy in memory and should be preferred for very large file inputs. Best used in combination with an external data handler.

## Parameters

### **input:**
```php
SplFileInfo|string $input
```
**Type:** `SplFileInfo` | `string`

String, valid path to a text file or an object SplFileInfo or extending it like SplFileObject.

### **isFile:**
```php
bool $isFile = false
```
**Type:** `bool`

If true, the string input is evaluated as path to text file.

### **callBack:**
```php
?Closure $callBack = null
```
**Type:** `?Closure`

Callback function to execute after each valid line, before vote registration.

## Return
**Type:** `int`

Number of invalid records in input (except empty lines). It's not an invalid votes count. Check Election::countVotes if you want to be sure.

## Related
- **[\CondorcetPHP\Condorcet\Election::addVote()](method_addVote.md)**
- **[\CondorcetPHP\Condorcet\Election::parseCandidates()](method_parseCandidates.md)**
- **[\CondorcetPHP\Condorcet\Election::parseVotes()](method_parseVotes.md)**
- **[\CondorcetPHP\Condorcet\Election::addVotesFromJson()](method_addVotesFromJson.md)**

## Manual
- **[Manual page](https://docs.condorcet.io/book/3.AsPhpLibrary/5.Votes/1.AddVotes)**
